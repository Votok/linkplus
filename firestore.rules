rules_version = '2';

/**
 * Admin-only Firestore rules
 * - Replace ADMIN_EMAIL below with your real admin email (must match the account used to sign in)
 * - This setup denies all access unless the authenticated user's email matches ADMIN_EMAIL
 */
function isAdmin() {
  return request.auth != null && request.auth.token.email == 'votocek@gmail.com';
}

service cloud.firestore {
  match /databases/{database}/documents {
    // Topics collection: admin-only full access
    match /topics/{topicId} {
      allow read, write: if isAdmin();
    }

    // Fallback: deny everything else unless admin
    match /{document=**} {
      allow read, write: if isAdmin();
    }
  }
}
